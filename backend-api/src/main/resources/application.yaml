spring:
  application:
    name: backend-api
  profiles:
    default: test
  sql:
    init:
      mode: never

server:
  port: ${SERVER_PORT:8080}

app:
  cors:
    allowed-origins: ${CORS_ALLOWED_ORIGINS:}

  data-collector:
    enabled: ${DATA_COLLECTOR_ENABLED:false}
    working-dir: ${DATA_COLLECTOR_WORKING_DIR:}
    python-path: ${DATA_COLLECTOR_PYTHON_PATH:}
    price-provider: ${DATA_COLLECTOR_PRICE_PROVIDER:stooq}
    metadata-provider: ${DATA_COLLECTOR_METADATA_PROVIDER:auto}
    eodhd-api-token: ${EODHD_API_TOKEN:}
    eodhd-use-for-spx: ${EODHD_USE_FOR_SPX:false}

security:
  jwt:
    secret: ${SECURITY_JWT_SECRET:}
    access-token-ttl-seconds: ${SECURITY_JWT_ACCESS_TTL_SECONDS:1800}
    refresh-token-ttl-seconds: ${SECURITY_JWT_REFRESH_TTL_SECONDS:2592000}
  init-admin:
    username: ${INIT_ADMIN_USERNAME:}
    password: ${INIT_ADMIN_PASSWORD:}
    force-reset-password: ${INIT_ADMIN_FORCE_RESET_PASSWORD:false}
  dev-auth:
    enabled: ${SECURITY_DEV_AUTH_ENABLED:false}
    username: ${SECURITY_DEV_AUTH_USERNAME:}
    roles: ${SECURITY_DEV_AUTH_ROLES:admin}
    auto-create-user: ${SECURITY_DEV_AUTH_AUTO_CREATE_USER:true}
    only-if-missing-authorization: ${SECURITY_DEV_AUTH_ONLY_IF_MISSING_AUTHORIZATION:true}
